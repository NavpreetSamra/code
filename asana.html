

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>asana package &mdash; Mark Weiss 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Mark Weiss 0.0.1 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Mark Weiss
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">code</a></li>
<li class="toctree-l1"><a class="reference internal" href="network_analysis.html">network_analysis package</a></li>
<li class="toctree-l1"><a class="reference internal" href="wikitravel.html">wikitravel package</a></li>
<li class="toctree-l1"><a class="reference internal" href="churn_study.html">churn_study package</a></li>
<li class="toctree-l1"><a class="reference internal" href="sirdisease.sir_disease.html">sirdisease.sir_disease package</a></li>
<li class="toctree-l1"><a class="reference internal" href="filesync.sync.html">filesync.sync package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvcparser.html">cvcparser package</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpers.html">helpers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="quadtree.html">quadtree package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Mark Weiss</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>asana package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/asana.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="asana-package">
<h1>asana package<a class="headerlink" href="#asana-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-asana.analysis">
<span id="asana-analysis-module"></span><h2>asana.analysis module<a class="headerlink" href="#module-asana.analysis" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="asana.analysis.UserAdoption">
<em class="property">class </em><code class="descclassname">asana.analysis.</code><code class="descname">UserAdoption</code><span class="sig-paren">(</span><em>fUsers</em>, <em>fEngage</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#UserAdoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.UserAdoption" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<blockquote>
<div><dl class="docutils">
<dt><strong>INTRODUCTION</strong></dt>
<dd><p class="first">The purpose of this analysis is to understand what features of a user                contribute to user adoption.
Before proceeding, two critical points to remember throughout                this process are:</p>
<ol class="arabic simple">
<li>This data is artificial</li>
<li>We do not have infinite time</li>
</ol>
<p>As a result of point 2, we prioritize            guiding our work toward interpretable results that can manifest            into productive business driven insights. The following details            an inspection and exploration process of the provided data in an            effort to determine what factors have the greatest impact on            predicting user adoption. From there we will begin to embed the            <strong>maven</strong> user as            a feature with the goal of improving prediction            as well as better understanding drivers of user adoption. The <a class="reference external" href="https://en.wikipedia.org/wiki/Maven">Maven</a> as described by Malcom            Gladwell in            <a class="reference external" href="https://en.wikipedia.org/wiki/The_Tipping_Point">The Tipping Point</a></p>
<p>Data inspection reveals attributes belonging to            2 broad categorizations:</p>
<blockquote>
<div><ol class="arabic">
<li><dl class="first docutils">
<dt>User</dt>
<dd><ul class="first last simple">
<li>name</li>
<li>object_id</li>
<li>email</li>
<li>org_id</li>
<li>last_session_create_time</li>
<li>opted_in_to_mailing_list</li>
<li>enabled_for_marketing_drip</li>
<li>login history (timestamp)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Path to Asana</dt>
<dd><ul class="first last simple">
<li>creation_source (5 categories)</li>
<li>creation_time</li>
<li>invited_by_user_id</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p class="last">With the exception of <em>login history</em>, this data is organized in a single            table. We proceed by calculating whether or not a user has adopted            given the criteria (3 logins in a 7 day window) and joining that            data to our <em>users table</em>. To do so, we group the login data            by <em>user_id</em>, sort by timestamp represented as <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="(in pandas v0.19.0)"><code class="xref py py-class docutils literal"><span class="pre">pandas.DatetimeIndex</span></code></a> and            pass a window over the array to check for length of time between            a login and the login after the following login, (i, i+2). If that            delta in time is less then or equal to 7 days we break out of our iteration            and record the user as <em>adopted</em>. An important note            throughout this analysis: we have utilized login time            and frequency to create the target for our prediction and consequently            we must be very careful when including number of logins            in any prediction of user adoption, otherwise we            will suffer from leakage. We also note that at casual inspection            there are no drastic outliers in the <em>users table</em>, however there is            potentially an issue with the <em>engagement table</em> data that we will address            in the next section. Further analysis of <em>users table</em>            with studentized-t residuals can be used to investigate outliers, however            beacuse our analysis will mainly pertain to            categorical data, outlier analysis will likely not play a             signifigant role.</p>
</dd>
<dt><strong>CLEANING</strong></dt>
<dd><p class="first">We remove <em>name</em> and <em>email</em> from our table. While it&#8217;s possible            certain types of email addresses can be indicative of            browser types and trends do exist within names            (see Freakanomics) that analysis is deprioritized here            and those fields are removed from our feature space.</p>
<p>Since <em>creation_source</em> is nominal with 5 unique values we dummify            the column and store it. It is important to note that the            stored data has not dropped a column, so a category            should be dropped before modeling to combat collinearity.</p>
<p>One path we can follow here is to investigate adoption rate within            organizations. This is logical, however given this approach, we            would look to perform this after embedding the <strong>maven</strong>            (assuming we can find them). To produce the most useful            information from the analysis, we need more information about            the organizations themselves (size, industry, growth, etc).            This would be one of the next few steps            to follow our approach begun in the <cite>MODELING</cite> section            below. Going back to point 2 in <cite>INTRODUCTION</cite>, in            the interest of prioritizing our time we have not yet            performed that analysis.</p>
<p>We choose to remove time from our predictions for two reasons,</p>
<blockquote>
<div><ol class="arabic simple">
<li>Time (ours, not the datas). Because we use time                    in our calculation of adoption rate, we must be                     extremely careful with building features that                    incorporate the same data. Also, given the                    suggested time to spend on this analysis we                    choose to allocate our time on what we hope                    will be more accesible and lower hanging but                    also interesting fruit.</li>
<li>To properly understand the impact of time                    on our system we need more information                    about the product, feature releases, market                    ecosystem, company history, and outreach.</li>
</ol>
</div></blockquote>
<p>That all being said, we can still look at time and gain useful                information. Plotting logins by day we see an                increasing rate of logins per day (a good sign                for product health!) until 2014-05-21.</p>
<p class="last">The data after that point demonstrates a system level impact that                indicates a catastrophic failure. A likley scenerio here                is that the logging of logins began to fail, whether                because of a snapshot push or other issues, it begins to spread                and then the bottom drops out on 2014-06-05. While world,                or product/company catastrophy is possible, given our                general knowledge they are likley not the cause.</p>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/LoginsPerDay.png"><img alt="_images/LoginsPerDay.png" class="align-center" src="_images/LoginsPerDay.png" style="width: 600.0px; height: 450.0px;" /></a>
<a class="reference internal image-reference" href="_images/users_data.png"><img alt="_images/users_data.png" class="align-center" src="_images/users_data.png" style="width: 600.0px; height: 450.0px;" /></a>
<p>The number of accounts created by day likely confirms        this theory, and         suggests that the increase in rate of account        creation at the end of this timeframe exceeded the load the system        was designed to handle leading to the failure in capturing logins,        without ruling out some of the possibilities enumerated above.</p>
<dl class="docutils">
<dt><strong>INITIAL ANALYSIS</strong></dt>
<dd><p class="first">With a clean and numeric representation of the data we are now able            to investigate the impact of features on adoption.            To do so we will look at extracting feature importance            from three modeling techniques: Logistic Regression,             Decision Trees, and Random Forests. The magnitude of coefficients            of (scaled) features in Logistic Regression represent that            feature&#8217;s relative contribution to final classification, by            it&#8217;s contribution to the slope defining the hyperplane            associated with that feature&#8217;s component            (with the caveat of holding all other features constant).            Logistic Regression&#8217;s direct readability of the impact variations            in a feature make it a useful tool for it&#8217;s interpretability            as well as it&#8217;s tolerance to overfitting when the number of features            fed into it are large compared to the volume of data (because it            is searching for a single hyperplane to partition the data)            Decision Trees, while highly prone to overfitting for            predicative modeling are useful for their interpretability            of feature importance by calculating the gain of information            of a split on a feature at a node. Random Forests can improve on            Decision Trees predicative abilities, by reducing overfitting,            as well as contribute to ranking feature importance albeit            with a different approach to determination.            For those not familiar,            Random Forests are aggregate of multiple decision trees each of            which is operating on a random subset of the data.</p>
<p class="last">With this analysis we find feature coefficients for Logistic Regression            and normalized gini impurity for tree/ensemble methods. The results in the            following tables represent values from averaging 10 fold cross            validation where standard deviations of all values are 1-2 orders            of magniutde less then the values presented (excluding 0s). The following models            were run with default parameters from            <a class="reference external" href="https://http://scikit-learn.org/stable/documentation.html">sklearn</a>            as this is an initial investigation.            Because the number of users to number of features ratio is large            and with no clear outlier data yet            we do not expect to need regularization for our Logistic            Regression. We also take the opportunity here to address            why we decided not to dummify <em>org_id</em>. As discussed (and            will continue to be discussed) a lack of information about            the orgs is a contributing factor, but also would render            a Decision Tree intractable as well as a sizeable increase in            computation time for a Random Forest (we recognize that            RFs are parallizable but given the context of this analysis).</p>
</dd>
</dl>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="17%" />
<col width="20%" />
<col width="17%" />
<col width="15%" />
<col width="12%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Model</th>
<th class="head">mailing_list</th>
<th class="head">marketing_drip</th>
<th class="head">GUEST_INVITE</th>
<th class="head">ORG_INVITE</th>
<th class="head">PERSONAL</th>
<th class="head">SIGNUP</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Tree</td>
<td>0.023</td>
<td>0.038</td>
<td>0.025</td>
<td>0.144</td>
<td>0.69</td>
<td>0.08</td>
</tr>
<tr class="row-odd"><td>Forest</td>
<td>0.068</td>
<td>0.074</td>
<td>0.132</td>
<td>0.1</td>
<td>0.562</td>
<td>0.065</td>
</tr>
<tr class="row-even"><td>Logistic</td>
<td>0.047</td>
<td>0.021</td>
<td>-0.015</td>
<td>-0.291</td>
<td>-0.85</td>
<td>-0.21</td>
</tr>
</tbody>
</table>
<blockquote>
<div><blockquote>
<div>The take away from this analysis is that the methods of invitation            are more important then being on the mailing list or a marketing drip.            Also please note, that values of our tree based methods represent            magnitude and not direction (another perk of Logistic Regression).            Since all our features are categorical, coefficients of the Logistic            Regression are easy to compare.</div></blockquote>
<dl class="docutils">
<dt><strong>MODELING</strong></dt>
<dd><p class="first">An initial exploration into feature importance gives insight into            what is available at the surface of our data. However, to            better understand Asana users and what drives adoption            we look to understand the impact and types of users and            organizations. While there is a wide breadth of directions            we can proceed from here, we will focus on one organizational            attribute -size- to help inform  one aspect of users            - sign up connectivity- which is a first step in            identifying <strong>mavens</strong>.</p>
<p>Calculating organization size, in the context of this analysis is            the number of Asana users in the organzation,            is straighforward. We group users by            <em>org_id</em> and count them. From there we begin to build a framework            to analyze <strong>mavens</strong>.            With the available data we are only able to investigate users            who have or exist in the <em>invited_by_user_id</em> field</p>
<dl class="docutils">
<dt>We hypothesize that inertia of tool usage exists within organizations            and look to understand that spread through usage and knowledge levels</dt>
<dd><ul class="first last simple">
<li>0th level - When a user is succesful with a tool, the tool is more            likely to spread because the user will recommend it to other            members of the organization.</li>
<li>1st level - A team wide decision to use a common            tool for a specific function</li>
<li>2nd level - The next extension is <strong>mavens</strong>.            <strong>Mavens</strong> are users            who work to become power users and then act as advocates/            evangelists for the software which is likely to increase            the signup rate and adoption rate of those users.            The <strong>maven</strong> will share the power of the tool, yielding a            shallower learning curve for new users and an increase            in adoption due to learning curve + <strong>maven</strong> usage. Combining with            tool/software standardization across teams and throughout            verticals, <strong>mavens</strong> provide us a target profile to            model with a goal of understanding tool flow throughout            organizations.</li>
</ul>
</dd>
</dl>
<p>We will begin building the framework to model <strong>mavens</strong> by            investigating connectivity.            In order to integrate connectivity as a feature for modeling            we build an undirected graph of each organization. Because            a node can only have 1 parent, and we have that recorded            in our features we can use an undirected graph to make the            computation of calculating connected subcomponents faster.            We also threshold a connected component having a local rank            greater then 3 for emphasis. This can be further investigated            in future work.            We maintain the ability to easily switch to a directed graph            moving forward if that structure suits our needs better.            Now we are able to add the local connected component rank of            a user as well as how many children            that user has to our design matrix.</p>
<p class="last">With these new features we look at the impact on feature importance            and predictive ability in our three models (Note org_size is            number of Asana accounts belonging to that user&#8217;s <em>org_id</em>            and continuous variables have been normalized to have a            standard deviation of 1 in the design matrix            which implies dx for a continuous variable is interpreted            differently from a categorical variable in Logistic Regression            coefficients:</p>
</dd>
</dl>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="13%" />
<col width="15%" />
<col width="9%" />
<col width="11%" />
<col width="9%" />
<col width="10%" />
<col width="8%" />
<col width="9%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Model</th>
<th class="head">mailing_list</th>
<th class="head">marketing_drip</th>
<th class="head">org_size</th>
<th class="head">local_rank</th>
<th class="head">children</th>
<th class="head">GUEST_INV</th>
<th class="head">ORG_INV</th>
<th class="head">PERSONAL</th>
<th class="head">SIGNUP</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Tree</td>
<td>0.084</td>
<td>0.054</td>
<td>0.4</td>
<td>0.234</td>
<td>0.133</td>
<td>0.03</td>
<td>0.024</td>
<td>0.013</td>
<td>0.027</td>
</tr>
<tr class="row-odd"><td>Forest</td>
<td>0.036</td>
<td>0.029</td>
<td>0.55</td>
<td>0.23</td>
<td>0.104</td>
<td>0.012</td>
<td>0.013</td>
<td>0.013</td>
<td>0.013</td>
</tr>
<tr class="row-even"><td>Logistic</td>
<td>0.041</td>
<td>0.01</td>
<td>-0.339</td>
<td>0.0</td>
<td>0.111</td>
<td>-0.035</td>
<td>-0.302</td>
<td>-0.867</td>
<td>-0.229</td>
</tr>
</tbody>
</table>
<blockquote>
<div><blockquote>
<div><p>While the tree based methods find our engineered features            rich in information. The Logistic Regression throws away <em>local_rank</em>.            Given how we&#8217;ve constructed these features in our design matrix            there is some redundancy            of information. Creating different models based on grouping sign up            methods could be a good direction to take our work and garner more            insight into features contributing to adoption. We note that our            pipeline includes a check of <strong>Variance Inflation Factor</strong> in            constructing our design matrix, and will raise an exception            if the magnitude of any feature exceeds a VIF of 3.</p>
<p>Closer inspection reveals an overall downard trend of <em>org_size</em>            as we would expect from our Logit coefficient. One interesting            phenomenon that we did not expect and likely hinders the success            of <em>children</em> and <em>local_rank</em> features is the 0. adoption rate            among users with 11 or more children. This is contrary to our            <strong>maven</strong> hypothesis. One potential explanation for these users            is they send the reference link and are part of onboarding process but choose            another tool within their own team. As we have adressed multiple            times we do not have time within this analysis to include login            frequency in a constructive manner, however this attribute would likely            help us partition <strong>mavens</strong> from <strong>connectors</strong> and improve our model.</p>
</div></blockquote>
<a class="reference internal image-reference" href="_images/size_adopted.png"><img alt="_images/size_adopted.png" src="_images/size_adopted.png" style="width: 520.0px; height: 390.0px;" /></a>
<a class="reference internal image-reference" href="_images/children_adoption.png"><img alt="_images/children_adoption.png" src="_images/children_adoption.png" style="width: 520.0px; height: 390.0px;" /></a>
<a class="reference internal image-reference" href="_images/rank_adoption.png"><img alt="_images/rank_adoption.png" src="_images/rank_adoption.png" style="width: 520.0px; height: 390.0px;" /></a>
<dl class="docutils">
<dt>We continue to find <em>mailing_list</em> and <em>marketing_drip</em> to not        effectively contribute. At this point if we were to continue        to build our model we would try dropping these features and        measure the impact on accuracy as well as recall and precision.</dt>
<dd><p class="first">We will take this opportunity to discuss class imbalance in our            system. With only a 13.8% adoption rate, when moving forward            with modeling efforts we will need to account for this. In a            parallel thread we also bring up that accuracy is likely not the best            scoring metric, but to give a more useful scoring metric            and direction to take the model we need to better understand            what the results are going to drive.</p>
<p>These factors all combine to yield no signifigant change in the                accuracy of our model calculated during cross validation.</p>
<p class="last">Again, this is just the initial framework. From here            we could incorporate usage frequency at time of recommendation,            success rate of invited members, and the velocity of the rank            of the graph as potentially interesting and meaningful features            in our model.</p>
</dd>
<dt><strong>CONCLUSION</strong></dt>
<dd><p class="first">Ultimately succesfully modeling users            and organizations requires more information and time then            we currently have.            With more information about organizations and specific users, user            and organizational profiles can help drive product development            and pricing (pricing, because we then have a way to evaluate            traction within organizations). Moving forward we can look to            incorporate more detailed information about types of organizations            as well as user application and use history/profiles.</p>
<p class="last">While these next steps all appear to contain great power,            they are meaningless if the computation to perform the analysis is            intractable. The pulling of data can be moved to a database style            context which is optimized for grouping and reorganizing data            around an index. The structure of the code below lends itself            well to partitioning for parallel processing with (key, value) pairs.            An advantage of user and organizationl profiling is the creation of            intuitive ways to partition the data. Once profiles are complete            we can track the change in profiles by comparing subsets windowed            by time  which again provides            natural partitions to our processing. If our data become so verbose            that Spark and AWS computation become intractable, we can sample            from our data for modeling.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="asana.analysis.Cleaned">
<em class="property">class </em><code class="descclassname">asana.analysis.</code><code class="descname">Cleaned</code><span class="sig-paren">(</span><em>fUsers, fEngage, adoption=(3, 7), drops=['name', 'email']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#Cleaned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.Cleaned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Class for pulling, cleaning, and aggregating data</p>
<p>For details inspect embedded source of encapsulated methods</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fUsers</strong> (<em>str/pd.DataFrame</em>) &#8211; Path or DataFrame of user data</li>
<li><strong>fEngage</strong> (<em>str/pd.DataFrame</em>) &#8211; Path or DataFrame of user engagement data</li>
<li><strong>adoption</strong> (<em>tuple.(int,int)</em>) &#8211; (number of logins, within window)</li>
<li><strong>drops</strong> (<em>array-like</em>) &#8211; names of columns to drop</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: list attributes</p>
</dd></dl>

<dl class="class">
<dt id="asana.analysis.FeatureAnalysis">
<em class="property">class </em><code class="descclassname">asana.analysis.</code><code class="descname">FeatureAnalysis</code><span class="sig-paren">(</span><em>fUsers, fEngage, adoption=(3, 7), drops=['name', 'email']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#FeatureAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.FeatureAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#asana.analysis.Cleaned" title="asana.analysis.Cleaned"><code class="xref py py-class docutils literal"><span class="pre">asana.analysis.Cleaned</span></code></a></p>
<p>Calculate organization sizes, networks, and graph attributes</p>
<dl class="method">
<dt id="asana.analysis.FeatureAnalysis.org_size">
<code class="descname">org_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#FeatureAnalysis.org_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.FeatureAnalysis.org_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate org_size and degree where applicable</p>
<p>Note org_size is number of Users with that a common org_id, not actual size</p>
</dd></dl>

<dl class="method">
<dt id="asana.analysis.FeatureAnalysis.build_org_networks">
<code class="descname">build_org_networks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#FeatureAnalysis.build_org_networks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.FeatureAnalysis.build_org_networks" title="Permalink to this definition">¶</a></dt>
<dd><p>Build graphs for connected users where applicable</p>
<p>Note degree and children will have high correlation</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="asana.analysis.AdoptionModel">
<em class="property">class </em><code class="descclassname">asana.analysis.</code><code class="descname">AdoptionModel</code><span class="sig-paren">(</span><em>cleaned, model, isLogistic=False, isTree=False, isForest=False, folds=10, vifMagnitude=3.0, autoRun={'var_scale': ['org_size', 'children'], 'dfs': [('users', ['opted_in_to_mailing_list', 'enabled_for_marketing_drip', 'org_size', 'local_rank', 'children']), ('sources', ['GUEST_INVITE', 'ORG_INVITE', 'PERSONAL_PROJECTS', 'SIGNUP'])]}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#AdoptionModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.AdoptionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Class for evaluating models on :class:FeatureAnalysis objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cleaned</strong> (<a class="reference internal" href="#asana.analysis.FeatureAnalysis" title="asana.analysis.FeatureAnalysis"><em>FeatureAnalysis</em></a>) &#8211; Cleaned data with engineered features</li>
<li><strong>model</strong> (<em>sklearn</em>) &#8211; scikit learn model, currently works with Logistic Regression, DecistionTree            Classifier and RandomForest Classifier</li>
<li><strong>isLogistic</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; boolean for model type. note this notation due to different access points            for coefficients and feature importances in fit models</li>
<li><strong>isTree</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; boolean for model type.</li>
<li><strong>isForest</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; boolean for model type.</li>
<li><strong>folds</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of folds to run in cross validation</li>
<li><strong>vifMagnitude</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; threshold for variance inflation factor</li>
<li><strong>autoRun</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; dictionary for automating runs, examples and front end INDEV</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="asana.analysis.AdoptionModel.model_prep">
<code class="descname">model_prep</code><span class="sig-paren">(</span><em>cdf</em>, <em>columns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#AdoptionModel.model_prep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.AdoptionModel.model_prep" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge DataFrames into df attribute to create design matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cdf</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; key of cleaned.dfs to access DataFrame</li>
<li><strong>columns</strong> (<em>int/str</em>) &#8211; index/column name of DataFrame to grab</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="asana.analysis.AdoptionModel.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#AdoptionModel.scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.AdoptionModel.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale column of df by standard deviation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; column header</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="asana.analysis.AdoptionModel.design">
<code class="descname">design</code><span class="sig-paren">(</span><em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#AdoptionModel.design"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.AdoptionModel.design" title="Permalink to this definition">¶</a></dt>
<dd><p>Split target from features. Store in attributes X, y</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>y</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; column name of the y feature to split                default is the last column</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="asana.analysis.AdoptionModel.feature_importance">
<code class="descname">feature_importance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#AdoptionModel.feature_importance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.AdoptionModel.feature_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>Run analysis with KFolds. (With room to add other aspects)</p>
</dd></dl>

<dl class="method">
<dt id="asana.analysis.AdoptionModel.kfold_features">
<code class="descname">kfold_features</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#AdoptionModel.kfold_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.AdoptionModel.kfold_features" title="Permalink to this definition">¶</a></dt>
<dd><p>KFold model prediction with feature importance and model
scores stored per fold.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="asana.analysis.evaluate_logins">
<code class="descclassname">asana.analysis.</code><code class="descname">evaluate_logins</code><span class="sig-paren">(</span><em>logins</em>, <em>adoption</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/asana/analysis.html#evaluate_logins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#asana.analysis.evaluate_logins" title="Permalink to this definition">¶</a></dt>
<dd><p>Evalue login  Dates to meet adoption criteria</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logins</strong> (<em>array-like</em>) &#8211; array of DateTime objects</li>
<li><strong>adoption</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; adoption criteria {&#8216;hits&#8217;: int             &#8216;window&#8217;: int} specifying the number of logins            or &#8216;hits&#8217; required in a given &#8216;window&#8217; to            constitute an adopted user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">boolean</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)">bool</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-asana">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-asana" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mark Weiss.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>