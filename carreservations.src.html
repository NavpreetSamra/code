

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>carreservations.src package &mdash; Mark Weiss 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Mark Weiss 0.0.1 documentation" href="index.html"/>
        <link rel="up" title="carreservations package" href="carreservations.html"/>
        <link rel="next" title="shoppingtime package" href="shoppingtime.html"/>
        <link rel="prev" title="carreservations package" href="carreservations.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Mark Weiss
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="FunctionComposition.html">BATCH MANAGER</a></li>
<li class="toctree-l1"><a class="reference internal" href="slides.html">ROUTE VISION</a></li>
<li class="toctree-l1"><a class="reference internal" href="cases.html">CASE STUDIES</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">code</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="batch_manager.html">batch_manager package</a></li>
<li class="toctree-l2"><a class="reference internal" href="route_vision.html">route_vision package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wordcounts.html">wordcounts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_adoption.html">user_adoption package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="carreservations.html">carreservations package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="carreservations.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">carreservations.src package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="carreservations.html#module-carreservations">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="shoppingtime.html">shoppingtime package</a></li>
<li class="toctree-l2"><a class="reference internal" href="network_analysis.html">network_analysis package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wikitravel.html">wikitravel package</a></li>
<li class="toctree-l2"><a class="reference internal" href="minesweeper.html">minesweeper package</a></li>
<li class="toctree-l2"><a class="reference internal" href="cvcparser.html">cvcparser package</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesync.html">filesync package</a></li>
<li class="toctree-l2"><a class="reference internal" href="classic.html">classic package</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">helpers package</a></li>
<li class="toctree-l2"><a class="reference internal" href="quadtree.html">quadtree package</a></li>
<li class="toctree-l2"><a class="reference internal" href="sirdisease.html">sirdisease package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Mark Weiss</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="modules.html">code</a> &raquo;</li>
      
          <li><a href="carreservations.html">carreservations package</a> &raquo;</li>
      
    <li>carreservations.src package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/carreservations.src.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="carreservations-src-package">
<h1>carreservations.src package<a class="headerlink" href="#carreservations-src-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-carreservations.src.helper">
<span id="carreservations-src-helper-module"></span><h2>carreservations.src.helper module<a class="headerlink" href="#module-carreservations.src.helper" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="carreservations.src.helper.df_table">
<code class="descclassname">carreservations.src.helper.</code><code class="descname">df_table</code><span class="sig-paren">(</span><em>df</em>, <em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/carreservations/src/helper.html#df_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#carreservations.src.helper.df_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to create rst tables from <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><code class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><em>pandas.DataFrame</em></a>) &#8211; data frame</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; string file name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="carreservations.src.helper.corr_heatmap">
<code class="descclassname">carreservations.src.helper.</code><code class="descname">corr_heatmap</code><span class="sig-paren">(</span><em>df</em>, <em>fname</em>, <em>vmax=0.8</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/carreservations/src/helper.html#corr_heatmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#carreservations.src.helper.corr_heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to create correlation heatmap imagesfrom <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><code class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><em>pandas.DataFrame</em></a>) &#8211; data frame</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; string file name</li>
<li><strong>float</strong> (<em>vmax</em>) &#8211; absolute value bound for colorbar</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-carreservations.src.modelowner">
<span id="carreservations-src-modelowner-module"></span><h2>carreservations.src.modelowner module<a class="headerlink" href="#module-carreservations.src.modelowner" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="carreservations.src.modelowner.ModelOwner">
<em class="property">class </em><code class="descclassname">carreservations.src.modelowner.</code><code class="descname">ModelOwner</code><span class="sig-paren">(</span><em>resPath='data/reservations.csv'</em>, <em>vehPath='data/vehicles.csv'</em>, <em>drops=('actual_price'</em>, <em>'street_parked'</em>, <em>'description')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/carreservations/src/modelowner.html#ModelOwner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#carreservations.src.modelowner.ModelOwner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Constructor for model owner</p>
<p>Reads csvs</p>
<p>Interfaces with <a class="reference internal" href="#carreservations.src.modelowner.Data" title="carreservations.src.modelowner.Data"><code class="xref py py-class docutils literal"><span class="pre">Data</span></code></a> and <a class="reference internal" href="#carreservations.src.modelowner.grid_search" title="carreservations.src.modelowner.grid_search"><code class="xref py py-func docutils literal"><span class="pre">grid_search()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resPath</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; path to reservations csv</li>
<li><strong>vehicles</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; path to reservations csv</li>
<li><strong>drops</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; columns to drop</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="carreservations.src.modelowner.Data">
<em class="property">class </em><code class="descclassname">carreservations.src.modelowner.</code><code class="descname">Data</code><span class="sig-paren">(</span><em>reservations, vehicles, drops, dummies=['reservation_type'], targets=('totalReservations', 'hasReservations', 'reservation_type_1', 'reservation_type_2', 'reservation_type_3'), modelTarget='totalReservations', auto=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/carreservations/src/modelowner.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#carreservations.src.modelowner.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Constructor for Data operations</p>
<p>Aggregates and joins data</p>
<p>Splits data into design/target/train/test quadrants as attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>reservations</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; path to reservations csv</li>
<li><strong>vehicles</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; path to reservations csv</li>
<li><strong>drops</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; columns to drop</li>
<li><strong>dummies</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; columns to dummify</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; columns to exclude from design</li>
<li><strong>modelTarget</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; field to include in target attribute</li>
<li><strong>auto</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; build features and split design and target on instantiation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="carreservations.src.modelowner.grid_search">
<code class="descclassname">carreservations.src.modelowner.</code><code class="descname">grid_search</code><span class="sig-paren">(</span><em>data, estimator=RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=None,            max_features='auto', max_leaf_nodes=None,            min_impurity_split=1e-07, min_samples_leaf=1,            min_samples_split=2, min_weight_fraction_leaf=0.0,            n_estimators=40, n_jobs=1, oob_score=False, random_state=None,            verbose=0, warm_start=False), param_grid={'min_samples_split': [20, 30, 40], 'max_features': ['auto', 'sqrt', 'log2'], 'max_depth': [2, 5, 10, 15]}, cv=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/carreservations/src/modelowner.html#grid_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#carreservations.src.modelowner.grid_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a model of type estimator with paramters prescribed by cross validated grid search. After cross validation, best estimator is built
on parameter combination and trained on entire training set. Returns both production ready model and grid search object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="#carreservations.src.modelowner.Data" title="carreservations.src.modelowner.Data"><em>Data</em></a>) &#8211; data object, requires (train/test)(Design/Target) attributes <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.19.2)"><code class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></code></a></li>
<li><strong>estimator</strong> (<em>classifier/estimator</em>) &#8211; base estimator to grid search <code class="xref py py-class docutils literal"><span class="pre">sklearn.GridSearchCV</span></code></li>
<li><strong>param_grid</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; paramter grid to search in grid search</li>
<li><strong>cv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; number of folds for cross validation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">model grid data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple.(estimator, GridSearchCV, Data)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-carreservations.src">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-carreservations.src" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="shoppingtime.html" class="btn btn-neutral float-right" title="shoppingtime package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="carreservations.html" class="btn btn-neutral" title="carreservations package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mark Weiss.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>